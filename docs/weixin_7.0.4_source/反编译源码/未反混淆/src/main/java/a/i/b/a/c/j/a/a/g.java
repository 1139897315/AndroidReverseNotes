package a.i.b.a.c.j.a.a;

import a.a.ag;
import a.a.am;
import a.a.m;
import a.a.p;
import a.f.b.j;
import a.f.b.t;
import a.f.b.v;
import a.i.b.a.c.b.ah;
import a.i.b.a.c.b.al;
import a.i.b.a.c.b.aq;
import a.i.b.a.c.b.l;
import a.i.b.a.c.e.a.ab;
import a.i.b.a.c.e.a.o;
import a.i.b.a.c.e.a.u;
import a.i.b.a.c.g.q;
import a.i.b.a.c.g.s;
import a.i.b.a.c.i.e.i;
import a.i.b.a.c.j.a.r;
import a.i.k;
import a.y;
import com.tencent.matrix.trace.core.AppMethodBeat;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.util.ArrayList;
import java.util.Collection;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Set;

public abstract class g extends i {
    static final /* synthetic */ k[] eQB = new k[]{v.a(new t(v.aN(g.class), "functionNamesLazy", "getFunctionNamesLazy()Ljava/util/Set;")), v.a(new t(v.aN(g.class), "variableNamesLazy", "getVariableNamesLazy()Ljava/util/Set;")), v.a(new t(v.aN(g.class), "classNames", "getClassNames$deserialization()Ljava/util/Set;"))};
    final a.i.b.a.c.j.a.k BHj;
    private final Map<a.i.b.a.c.f.f, byte[]> BIm;
    private final Map<a.i.b.a.c.f.f, byte[]> BIn;
    private final Map<a.i.b.a.c.f.f, byte[]> BIo;
    private final a.i.b.a.c.k.d<a.i.b.a.c.f.f, aq> BIp;
    private final a.i.b.a.c.k.f BIq;
    private final a.i.b.a.c.k.f BIr;
    private final a.i.b.a.c.k.c<a.i.b.a.c.f.f, Collection<al>> BhE;
    private final a.i.b.a.c.k.c<a.i.b.a.c.f.f, Collection<ah>> BhF;
    private final a.i.b.a.c.k.f BoD;

    static final class a extends a.f.b.k implements a.f.a.a<Set<? extends a.i.b.a.c.f.f>> {
        final /* synthetic */ a.f.a.a BIs;

        a(a.f.a.a aVar) {
            this.BIs = aVar;
            super(0);
        }

        public final /* synthetic */ Object invoke() {
            AppMethodBeat.i(122397);
            Set o = a.a.t.o((Iterable) this.BIs.invoke());
            AppMethodBeat.o(122397);
            return o;
        }
    }

    public static final class b extends a.f.b.k implements a.f.a.a<M> {
        final /* synthetic */ ByteArrayInputStream BIt;
        final /* synthetic */ g BIu;
        final /* synthetic */ s BIv;

        public b(ByteArrayInputStream byteArrayInputStream, g gVar, s sVar) {
            this.BIt = byteArrayInputStream;
            this.BIu = gVar;
            this.BIv = sVar;
            super(0);
        }

        public final /* synthetic */ Object invoke() {
            AppMethodBeat.i(122398);
            q qVar = (q) this.BIv.i(this.BIt, this.BIu.BHj.Brl.BGZ);
            AppMethodBeat.o(122398);
            return qVar;
        }
    }

    public static final class c extends a.f.b.k implements a.f.a.a<M> {
        final /* synthetic */ ByteArrayInputStream BIt;
        final /* synthetic */ g BIu;
        final /* synthetic */ s BIv;

        public c(ByteArrayInputStream byteArrayInputStream, g gVar, s sVar) {
            this.BIt = byteArrayInputStream;
            this.BIu = gVar;
            this.BIv = sVar;
            super(0);
        }

        public final /* synthetic */ Object invoke() {
            AppMethodBeat.i(122399);
            q qVar = (q) this.BIv.i(this.BIt, this.BIu.BHj.Brl.BGZ);
            AppMethodBeat.o(122399);
            return qVar;
        }
    }

    static final class d extends a.f.b.k implements a.f.a.a<Set<? extends a.i.b.a.c.f.f>> {
        final /* synthetic */ g BIu;

        d(g gVar) {
            this.BIu = gVar;
            super(0);
        }

        public final /* synthetic */ Object invoke() {
            AppMethodBeat.i(122400);
            Set a = am.a(this.BIu.BIm.keySet(), this.BIu.ejY());
            AppMethodBeat.o(122400);
            return a;
        }
    }

    static final class f extends a.f.b.k implements a.f.a.b<a.i.b.a.c.f.f, Collection<? extends ah>> {
        final /* synthetic */ g BIu;

        f(g gVar) {
            this.BIu = gVar;
            super(1);
        }

        public final /* synthetic */ Object am(Object obj) {
            AppMethodBeat.i(122402);
            a.i.b.a.c.f.f fVar = (a.i.b.a.c.f.f) obj;
            j.p(fVar, "it");
            Collection b = g.b(this.BIu, fVar);
            AppMethodBeat.o(122402);
            return b;
        }
    }

    static final class g extends a.f.b.k implements a.f.a.b<a.i.b.a.c.f.f, aq> {
        final /* synthetic */ g BIu;

        g(g gVar) {
            this.BIu = gVar;
            super(1);
        }

        public final /* synthetic */ Object am(Object obj) {
            AppMethodBeat.i(122403);
            a.i.b.a.c.f.f fVar = (a.i.b.a.c.f.f) obj;
            j.p(fVar, "it");
            aq c = g.c(this.BIu, fVar);
            AppMethodBeat.o(122403);
            return c;
        }
    }

    static final class h extends a.f.b.k implements a.f.a.a<Set<? extends a.i.b.a.c.f.f>> {
        final /* synthetic */ g BIu;

        h(g gVar) {
            this.BIu = gVar;
            super(0);
        }

        public final /* synthetic */ Object invoke() {
            AppMethodBeat.i(122404);
            Set a = am.a(this.BIu.BIn.keySet(), this.BIu.ejZ());
            AppMethodBeat.o(122404);
            return a;
        }
    }

    static final class e extends a.f.b.k implements a.f.a.b<a.i.b.a.c.f.f, Collection<? extends al>> {
        final /* synthetic */ g BIu;

        e(g gVar) {
            this.BIu = gVar;
            super(1);
        }

        public final /* synthetic */ Object am(Object obj) {
            AppMethodBeat.i(122401);
            a.i.b.a.c.f.f fVar = (a.i.b.a.c.f.f) obj;
            j.p(fVar, "it");
            Collection a = g.a(this.BIu, fVar);
            AppMethodBeat.o(122401);
            return a;
        }
    }

    public abstract a.i.b.a.c.f.a A(a.i.b.a.c.f.f fVar);

    public abstract void c(Collection<l> collection, a.f.a.b<? super a.i.b.a.c.f.f, Boolean> bVar);

    public abstract Set<a.i.b.a.c.f.f> ejY();

    public abstract Set<a.i.b.a.c.f.f> ejZ();

    public final Set<a.i.b.a.c.f.f> ekb() {
        return (Set) a.i.b.a.c.k.h.a(this.BIr, eQB[2]);
    }

    protected g(a.i.b.a.c.j.a.k kVar, Collection<o> collection, Collection<u> collection2, Collection<ab> collection3, a.f.a.a<? extends Collection<a.i.b.a.c.f.f>> aVar) {
        a.i.b.a.c.f.f b;
        ArrayList arrayList;
        j.p(kVar, "c");
        j.p(collection, "functionList");
        j.p(collection2, "propertyList");
        j.p(collection3, "typeAliasList");
        j.p(aVar, "classNames");
        this.BHj = kVar;
        Map linkedHashMap = new LinkedHashMap();
        for (Object next : collection) {
            b = r.b(this.BHj.AWq, ((o) ((q) next)).Buf);
            arrayList = linkedHashMap.get(b);
            if (arrayList == null) {
                arrayList = new ArrayList();
                linkedHashMap.put(b, arrayList);
            }
            arrayList.add(next);
        }
        this.BIm = bd(linkedHashMap);
        linkedHashMap = new LinkedHashMap();
        for (Object next2 : collection2) {
            b = r.b(this.BHj.AWq, ((u) ((q) next2)).Buf);
            arrayList = linkedHashMap.get(b);
            if (arrayList == null) {
                arrayList = new ArrayList();
                linkedHashMap.put(b, arrayList);
            }
            arrayList.add(next2);
        }
        this.BIn = bd(linkedHashMap);
        linkedHashMap = new LinkedHashMap();
        for (Object next22 : collection3) {
            b = r.b(this.BHj.AWq, ((ab) ((q) next22)).Buf);
            arrayList = linkedHashMap.get(b);
            if (arrayList == null) {
                arrayList = new ArrayList();
                linkedHashMap.put(b, arrayList);
            }
            arrayList.add(next22);
        }
        this.BIo = bd(linkedHashMap);
        this.BhE = this.BHj.Brl.Baf.f(new e(this));
        this.BhF = this.BHj.Brl.Baf.f(new f(this));
        this.BIp = this.BHj.Brl.Baf.g(new g(this));
        this.BoD = this.BHj.Brl.Baf.i(new d(this));
        this.BIq = this.BHj.Brl.Baf.i(new h(this));
        this.BIr = this.BHj.Brl.Baf.i(new a(aVar));
    }

    private final Set<a.i.b.a.c.f.f> eka() {
        return this.BIo.keySet();
    }

    /* Access modifiers changed, original: protected */
    public void b(a.i.b.a.c.f.f fVar, Collection<al> collection) {
        j.p(fVar, "name");
        j.p(collection, "functions");
    }

    public Collection<al> b(a.i.b.a.c.f.f fVar, a.i.b.a.c.c.a.a aVar) {
        j.p(fVar, "name");
        j.p(aVar, com.google.firebase.analytics.FirebaseAnalytics.b.LOCATION);
        if (eau().contains(fVar)) {
            return (Collection) this.BhE.am(fVar);
        }
        return a.a.v.AUP;
    }

    /* Access modifiers changed, original: protected */
    public void a(a.i.b.a.c.f.f fVar, Collection<ah> collection) {
        j.p(fVar, "name");
        j.p(collection, "descriptors");
    }

    public Collection<ah> a(a.i.b.a.c.f.f fVar, a.i.b.a.c.c.a.a aVar) {
        j.p(fVar, "name");
        j.p(aVar, com.google.firebase.analytics.FirebaseAnalytics.b.LOCATION);
        if (eav().contains(fVar)) {
            return (Collection) this.BhF.am(fVar);
        }
        return a.a.v.AUP;
    }

    /* Access modifiers changed, original: protected|final */
    public final Collection<l> b(a.i.b.a.c.i.e.d dVar, a.f.a.b<? super a.i.b.a.c.f.f, Boolean> bVar, a.i.b.a.c.c.a.a aVar) {
        j.p(dVar, "kindFilter");
        j.p(bVar, "nameFilter");
        j.p(aVar, com.google.firebase.analytics.FirebaseAnalytics.b.LOCATION);
        ArrayList arrayList = new ArrayList(0);
        a.i.b.a.c.i.e.d.a aVar2 = a.i.b.a.c.i.e.d.BFX;
        if (dVar.UI(a.i.b.a.c.i.e.d.BFC)) {
            c((Collection) arrayList, (a.f.a.b) bVar);
        }
        a(arrayList, dVar, bVar, aVar);
        aVar2 = a.i.b.a.c.i.e.d.BFX;
        if (dVar.UI(a.i.b.a.c.i.e.d.BFI)) {
            for (a.i.b.a.c.f.f fVar : ekb()) {
                if (((Boolean) bVar.am(fVar)).booleanValue()) {
                    a.i.b.a.c.n.a.b(arrayList, C(fVar));
                }
            }
        }
        aVar2 = a.i.b.a.c.i.e.d.BFX;
        if (dVar.UI(a.i.b.a.c.i.e.d.BFD)) {
            for (a.i.b.a.c.f.f fVar2 : eka()) {
                if (((Boolean) bVar.am(fVar2)).booleanValue()) {
                    a.i.b.a.c.n.a.b(arrayList, this.BIp.am(fVar2));
                }
            }
        }
        return a.i.b.a.c.n.a.at(arrayList);
    }

    private final void a(Collection<l> collection, a.i.b.a.c.i.e.d dVar, a.f.a.b<? super a.i.b.a.c.f.f, Boolean> bVar, a.i.b.a.c.c.a.a aVar) {
        Collection<a.i.b.a.c.f.f> eav;
        ArrayList arrayList;
        List list;
        a.i.b.a.c.i.g.a aVar2;
        a.i.b.a.c.i.e.d.a aVar3 = a.i.b.a.c.i.e.d.BFX;
        if (dVar.UI(a.i.b.a.c.i.e.d.BFG)) {
            eav = eav();
            arrayList = new ArrayList();
            for (a.i.b.a.c.f.f fVar : eav) {
                if (((Boolean) bVar.am(fVar)).booleanValue()) {
                    arrayList.addAll(a(fVar, aVar));
                }
            }
            list = arrayList;
            aVar2 = a.i.b.a.c.i.g.a.BEk;
            j.o(aVar2, "MemberComparator.NameAnd…MemberComparator.INSTANCE");
            p.a(list, aVar2);
            collection.addAll(arrayList);
        }
        aVar3 = a.i.b.a.c.i.e.d.BFX;
        if (dVar.UI(a.i.b.a.c.i.e.d.BFF)) {
            eav = eau();
            arrayList = new ArrayList();
            for (a.i.b.a.c.f.f fVar2 : eav) {
                if (((Boolean) bVar.am(fVar2)).booleanValue()) {
                    arrayList.addAll(b(fVar2, aVar));
                }
            }
            list = arrayList;
            aVar2 = a.i.b.a.c.i.g.a.BEk;
            j.o(aVar2, "MemberComparator.NameAnd…MemberComparator.INSTANCE");
            p.a(list, aVar2);
            collection.addAll(arrayList);
        }
    }

    public a.i.b.a.c.b.h c(a.i.b.a.c.f.f fVar, a.i.b.a.c.c.a.a aVar) {
        j.p(fVar, "name");
        j.p(aVar, com.google.firebase.analytics.FirebaseAnalytics.b.LOCATION);
        if (D(fVar)) {
            return C(fVar);
        }
        if (eka().contains(fVar)) {
            return (a.i.b.a.c.b.h) this.BIp.am(fVar);
        }
        return null;
    }

    private final a.i.b.a.c.b.e C(a.i.b.a.c.f.f fVar) {
        return this.BHj.Brl.i(A(fVar));
    }

    /* Access modifiers changed, original: protected */
    public boolean D(a.i.b.a.c.f.f fVar) {
        j.p(fVar, "name");
        return ekb().contains(fVar);
    }

    private static Map<a.i.b.a.c.f.f, byte[]> bd(Map<a.i.b.a.c.f.f, ? extends Collection<? extends a.i.b.a.c.g.a>> map) {
        Map linkedHashMap = new LinkedHashMap(ag.SI(map.size()));
        for (Object next : map.entrySet()) {
            Object key = ((Entry) next).getKey();
            Entry entry = (Entry) next;
            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
            Iterable<a.i.b.a.c.g.a> iterable = (Iterable) entry.getValue();
            Collection arrayList = new ArrayList(m.d(iterable));
            for (a.i.b.a.c.g.a c : iterable) {
                c.c(byteArrayOutputStream);
                arrayList.add(y.AUy);
            }
            linkedHashMap.put(key, byteArrayOutputStream.toByteArray());
        }
        return linkedHashMap;
    }

    public final Set<a.i.b.a.c.f.f> eau() {
        return (Set) a.i.b.a.c.k.h.a(this.BoD, eQB[0]);
    }

    public final Set<a.i.b.a.c.f.f> eav() {
        return (Set) a.i.b.a.c.k.h.a(this.BIq, eQB[1]);
    }
}
