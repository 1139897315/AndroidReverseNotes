package com.tencent.mm.loader.k;

import a.f.b.j;
import a.l;
import com.tencent.mm.loader.e.b.d;
import com.tencent.mm.loader.f;
import com.tencent.mm.loader.g.c;
import com.tencent.mm.loader.g.h;
import com.tencent.mm.loader.h.e;
import com.tencent.mm.sdk.platformtools.ab;
import java.util.Arrays;

@l(dWo = {1, 1, 13}, dWp = {"\u0000j\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0010\u000e\n\u0002\b\n\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0006\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u000b\n\u0002\b\u0002\n\u0002\u0010\t\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0003\b&\u0018\u0000*\u0004\b\u0000\u0010\u0001*\u0004\b\u0001\u0010\u00022\u00020\u0003:\u0001<B5\u0012\f\u0010\u0004\u001a\b\u0012\u0004\u0012\u00028\u00000\u0005\u0012\f\u0010\u0006\u001a\b\u0012\u0004\u0012\u00028\u00010\u0007\u0012\u0012\u0010\b\u001a\u000e\u0012\u0004\u0012\u00028\u0000\u0012\u0004\u0012\u00028\u00010\t¢\u0006\u0002\u0010\nJD\u0010$\u001a\u00020%2\n\u0010&\u001a\u0006\u0012\u0002\b\u00030'2\f\u0010(\u001a\b\u0012\u0004\u0012\u00028\u00010)2\u000e\u0010*\u001a\n\u0012\u0004\u0012\u00028\u0001\u0018\u00010)2\u0012\u0010+\u001a\u000e\u0012\u0004\u0012\u00028\u0000\u0012\u0004\u0012\u00028\u00010\u0000J\b\u0010,\u001a\u00020%H\u0016J\b\u0010-\u001a\u00020%H\u0002J\u001e\u0010.\u001a\u00020%2\u0006\u0010/\u001a\u0002002\f\u00101\u001a\b\u0012\u0004\u0012\u00028\u000102H$J\u0006\u00103\u001a\u000204J\u000e\u00105\u001a\u00020%2\u0006\u00106\u001a\u000207J\u0018\u00108\u001a\u00020%2\u000e\u00109\u001a\n\u0012\u0004\u0012\u00028\u0001\u0018\u00010:H\u0004J\b\u0010;\u001a\u00020\u0010H\u0016R&\u0010\b\u001a\u000e\u0012\u0004\u0012\u00028\u0000\u0012\u0004\u0012\u00028\u00010\tX\u000e¢\u0006\u000e\n\u0000\u001a\u0004\b\u000b\u0010\f\"\u0004\b\r\u0010\u000eR\u000e\u0010\u000f\u001a\u00020\u0010XD¢\u0006\u0002\n\u0000R\u001c\u0010\u0011\u001a\u0004\u0018\u00010\u0010X\u000e¢\u0006\u000e\n\u0000\u001a\u0004\b\u0012\u0010\u0013\"\u0004\b\u0014\u0010\u0015R \u0010\u0006\u001a\b\u0012\u0004\u0012\u00028\u00010\u0007X\u000e¢\u0006\u000e\n\u0000\u001a\u0004\b\u0016\u0010\u0017\"\u0004\b\u0018\u0010\u0019R\u001a\u0010\u001a\u001a\u00020\u001bX\u000e¢\u0006\u000e\n\u0000\u001a\u0004\b\u001c\u0010\u001d\"\u0004\b\u001e\u0010\u001fR \u0010\u0004\u001a\b\u0012\u0004\u0012\u00028\u00000\u0005X\u000e¢\u0006\u000e\n\u0000\u001a\u0004\b \u0010!\"\u0004\b\"\u0010#¨\u0006="}, dWq = {"Lcom/tencent/mm/loader/task/LoadTask;", "T", "R", "Lcom/tencent/mm/loader/loader/IWorkTask;", "url", "Lcom/tencent/mm/loader/model/data/DataItem;", "target", "Lcom/tencent/mm/loader/impr/target/ResourceShowTarget;", "REAPER", "Lcom/tencent/mm/loader/Reaper;", "(Lcom/tencent/mm/loader/model/data/DataItem;Lcom/tencent/mm/loader/impr/target/ResourceShowTarget;Lcom/tencent/mm/loader/Reaper;)V", "getREAPER", "()Lcom/tencent/mm/loader/Reaper;", "setREAPER", "(Lcom/tencent/mm/loader/Reaper;)V", "TAG", "", "debugInfo", "getDebugInfo", "()Ljava/lang/String;", "setDebugInfo", "(Ljava/lang/String;)V", "getTarget", "()Lcom/tencent/mm/loader/impr/target/ResourceShowTarget;", "setTarget", "(Lcom/tencent/mm/loader/impr/target/ResourceShowTarget;)V", "taskStatus", "Lcom/tencent/mm/loader/loader/WorkStatus;", "getTaskStatus", "()Lcom/tencent/mm/loader/loader/WorkStatus;", "setTaskStatus", "(Lcom/tencent/mm/loader/loader/WorkStatus;)V", "getUrl", "()Lcom/tencent/mm/loader/model/data/DataItem;", "setUrl", "(Lcom/tencent/mm/loader/model/data/DataItem;)V", "cacheImageToDisk", "", "httpResponse", "Lcom/tencent/mm/loader/model/Response;", "source", "Lcom/tencent/mm/loader/model/Resource;", "resource", "task", "call", "debugCheck", "execute", "fileType", "Lcom/tencent/mm/loader/cfg/ImageLoaderOptions$LoadFrom;", "taskListener", "Lcom/tencent/mm/loader/task/LoadTask$ITask;", "isAddTaskWhePause", "", "reportReadCacheTime", "time", "", "taskEnd", "resultData", "Lcom/tencent/mm/loader/model/LoadResult;", "uniqueId", "ITask", "libimageloader_release"})
public abstract class b<T, R> extends c {
    final String TAG = "MicroMsg.Loader.ImageLoader.ImageLoadTask";
    com.tencent.mm.loader.e.b.c<R> eOZ;
    public String ePa;
    com.tencent.mm.loader.h.a.a<T> eQE;
    h eSD = h.Init;
    f<T, R> eSE;

    @l(dWo = {1, 1, 13}, dWp = {"\u0000\u0019\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0004*\u0001\u0000\b\n\u0018\u00002\b\u0012\u0004\u0012\u00028\u00000\u0001J\u0016\u0010\u0002\u001a\u00020\u00032\f\u0010\u0004\u001a\b\u0012\u0004\u0012\u00028\u00000\u0005H\u0016J\b\u0010\u0006\u001a\u00020\u0003H\u0016J\b\u0010\u0007\u001a\u00020\u0003H\u0016J\u0016\u0010\b\u001a\u00020\u00032\f\u0010\u0004\u001a\b\u0012\u0004\u0012\u00028\u00000\u0005H\u0016¨\u0006\t"}, dWq = {"com/tencent/mm/loader/task/LoadTask$call$1", "Lcom/tencent/mm/loader/task/LoadTask$ITask;", "onTaskDownFin", "", "resultData", "Lcom/tencent/mm/loader/model/LoadResult;", "onTaskFail", "onTaskRemove", "ontaskLoadFin", "libimageloader_release"})
    public static final class b implements a<R> {
        final /* synthetic */ b eSF;

        b(b bVar) {
            this.eSF = bVar;
        }

        public final void b(com.tencent.mm.loader.h.c<R> cVar) {
            j.p(cVar, "resultData");
            this.eSF.b(h.OK);
            if ((cVar.isValid() ? cVar : null) != null) {
                ab.d(this.eSF.TAG, "[ImageLoader] run. get bitmap successs. %s", this.eSF.eQE);
                com.tencent.mm.loader.e.b.d.a aVar = d.eQA;
                com.tencent.mm.loader.e.b.d.a.TN().a(this.eSF.eQE, cVar);
            }
            this.eSF.Up();
            this.eSF.a(this.eSF.eSD);
        }

        public final void a(com.tencent.mm.loader.h.c<R> cVar) {
            j.p(cVar, "resultData");
            this.eSF.b(h.OK);
            if ((cVar.isValid() ? cVar : null) != null) {
                ab.d(this.eSF.TAG, "[ImageLoader] run. get bitmap successs. %s", this.eSF.eQE);
                com.tencent.mm.loader.e.b.d.a aVar = d.eQA;
                com.tencent.mm.loader.e.b.d.a.TN().a(this.eSF.eQE, cVar);
            }
            this.eSF.Up();
            this.eSF.a(this.eSF.eSD);
        }

        public final void Uq() {
            this.eSF.b(h.Fail);
            this.eSF.a(this.eSF.eSD);
        }
    }

    @l(dWo = {1, 1, 13}, dWp = {"\u0000\u001a\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\u0000\n\u0000\n\u0002\u0010\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0004\bf\u0018\u0000*\u0004\b\u0002\u0010\u00012\u00020\u0002J\u0016\u0010\u0003\u001a\u00020\u00042\f\u0010\u0005\u001a\b\u0012\u0004\u0012\u00028\u00020\u0006H&J\b\u0010\u0007\u001a\u00020\u0004H&J\b\u0010\b\u001a\u00020\u0004H&J\u0016\u0010\t\u001a\u00020\u00042\f\u0010\u0005\u001a\b\u0012\u0004\u0012\u00028\u00020\u0006H&¨\u0006\n"}, dWq = {"Lcom/tencent/mm/loader/task/LoadTask$ITask;", "RR", "", "onTaskDownFin", "", "resultData", "Lcom/tencent/mm/loader/model/LoadResult;", "onTaskFail", "onTaskRemove", "ontaskLoadFin", "libimageloader_release"})
    public interface a<RR> {
        void Uq();

        void a(com.tencent.mm.loader.h.c<RR> cVar);

        void b(com.tencent.mm.loader.h.c<RR> cVar);
    }

    public abstract void a(com.tencent.mm.loader.c.e.b bVar, a<R> aVar);

    public b(com.tencent.mm.loader.h.a.a<T> aVar, com.tencent.mm.loader.e.b.c<R> cVar, f<T, R> fVar) {
        j.p(aVar, "url");
        j.p(cVar, "target");
        j.p(fVar, "REAPER");
        this.eQE = aVar;
        this.eOZ = cVar;
        this.eSE = fVar;
    }

    public final void b(h hVar) {
        j.p(hVar, "<set-?>");
        this.eSD = hVar;
    }

    public final void Pa() {
        System.currentTimeMillis();
        com.tencent.mm.loader.c.e.b Ty = this.eSE.eOF.Ty();
        j.o(Ty, "fileType");
        a(Ty, new b(this));
    }

    /* Access modifiers changed, original: protected|final */
    public final void Up() {
        f fVar = this.eSE;
        if (fVar.eOI != null) {
            fVar.Tc();
        }
        fVar.Tc();
        Object[] TG = this.eSE.eOF.TG();
        Arrays.copyOf(TG, TG.length);
    }

    public final void a(com.tencent.mm.loader.h.f<?> fVar, e<R> eVar, e<R> eVar2, b<T, R> bVar) {
        j.p(fVar, "httpResponse");
        j.p(eVar, "source");
        j.p(bVar, "task");
        if (this.eSE.eOF.Tt()) {
            this.eSE.eOL.a(this.eQE, fVar, eVar, eVar2, this.eSE.eOF, this.eSE);
        }
        if (this.eSE.eOF.Tu()) {
            this.eSE.eOL.a(this.eQE, fVar, eVar, eVar2, this.eSE.eOF, this.eSE);
        }
    }

    public final String Pc() {
        String aVar = this.eQE.toString();
        j.o(aVar, "url.toString()");
        return aVar;
    }
}
