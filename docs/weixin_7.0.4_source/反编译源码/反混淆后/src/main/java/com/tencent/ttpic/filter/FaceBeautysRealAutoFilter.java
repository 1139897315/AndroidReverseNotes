package com.tencent.ttpic.filter;

import com.facebook.internal.FacebookRequestErrorClassification;
import com.tencent.filter.BaseFilter;
import com.tencent.filter.C25624m.C0933f;
import com.tencent.filter.C25624m.C0935i;
import com.tencent.filter.GLSLRender;
import com.tencent.matrix.trace.core.AppMethodBeat;
import com.tencent.p177mm.plugin.appbrand.jsapi.C33250az;
import com.tencent.p177mm.plugin.appbrand.jsapi.JsApiMakeVoIPCall;
import com.tencent.p177mm.plugin.appbrand.jsapi.audio.JsApiGetBackgroundAudioState;
import com.tencent.p177mm.plugin.appbrand.jsapi.contact.JsApiChooseWeChatContact;
import com.tencent.p177mm.plugin.appbrand.jsapi.media.JsApiChooseMedia;
import com.tencent.p177mm.plugin.appbrand.jsapi.media.JsApiUploadEncryptedFileToCDN;
import com.tencent.p177mm.plugin.appbrand.jsapi.p306g.C19392d;
import com.tencent.p177mm.plugin.appbrand.jsapi.p306g.C19394e;
import com.tencent.p177mm.plugin.appbrand.jsapi.p306g.C19395n;
import com.tencent.p177mm.plugin.appbrand.jsapi.p306g.C44697b;
import com.tencent.p177mm.plugin.appbrand.jsapi.p310k.C27011o;
import com.tencent.p177mm.plugin.appbrand.jsapi.p310k.C33333a;
import com.tencent.smtt.sdk.TbsListener.ErrorCode;
import com.tencent.ttpic.util.FaceMoveUtil;
import com.tencent.ttpic.util.FaceOffUtil;
import com.tencent.view.C31128d;
import java.util.Map;
import org.xwalk.core.XWalkEnvironment;

public class FaceBeautysRealAutoFilter extends BaseFilter {
    private static String WHITEN_FRAGMENT = "mee1222x1701998624x1769171299x1746955887x1885890409x1869375008x171668577x1918989856x1735289209x1667593760x1702109234x1920300152x1869562725x1852400754x996504673x1853169674x1919903337x1634934893x1701605485x541340274x1970302569x1634552180x1700029799x1920300152x537541477x1718185589x544043631x1886216563x846357868x1852383300x1232369008x1701273965x1954047316x845509237x1965034043x1868982638x1713401202x1952542572x1768453920x997090676x1853169674x1919903337x1818632301x544498031x1852402547x1953261894x171668069x1981811232x543451503x1852399981x537536808x538970747x1981816864x540304229x1600745065x1869377379x540876914x1954047348x845509237x1852385348x1232369008x1701273965x1954047316x744845941x2019914784x1701999988x1919905603x1634625892x992568692x538976266x537534496x538976288x878929270x1852401184x1025535073x1768843552x1819239263x171668079x538976288x1667593760x1701978164x538976372x1702240317x1764242531x1667197294x1919904879x1650946606x808333612x168442665x538976288x1667593760x1836326963x537541488x538976288x779119988x540876914x1954047348x845509237x1852385348x1232369008x1701273965x1954047316x845509237x1702240300x1915236963x1915647077x808333356x1915627817x538970683x1948262432x1731096685x1948269856x1970567269x1144153458x1886284072x1833530485x1415931745x1970567269x741500274x1667593760x1701980210x744959604x691023408x997338665x538976266x1836326944x543305328x1702109245x1920300152x675557989x1970302569x1634552180x1700029799x1920300152x539767397x845374838x1952805416x808215086x690565166x171668014x538976288x1667593760x1701978163x1953265011x1998601504x1702127976x1948789358x757100653x1952805408x1650946606x1701980969x1735536244x168442722x538976288x543582496x1768649512x1818838638x544367988x774905918x2065705269x538976266x538976288x1818632224x544498031x540108643x1868832829x1702242420x757609315x808333624x824980792x808333873x808660268x892418350x1713384489x1818324585x1650946606x537541417x538976288x538976288x1634692198x1919098996x540876849x678719332x862152054x926100776x926496558x876031276x858796590x842084652x740896814x1852401184x1915645025x992567911x538970634x538976288x1713381408x1952542572x543646496x1734549565x842083121x758132280x775172401x537541424x538976288x538976288x1634692198x1919098996x1663057184x824914290x808335410x842084653x171651118x538976266x538976288x1818632224x544498031x540876918x678977901x1953657203x711418664x1663788899x1919101554x875638057x539766830x691023408x538970683x538976288x1713381408x1952542572x1025536800x2003791904x925774376x942815281x942815281x741946676x796273952x691023412x538970683x538976288x1713381408x1952542572x1634887456x540876921x678719332x862152054x858665000x908996652x825110572x1713384489x1818324585x1650946606x537541417x538976288x538976288x1634692198x829628532x1830829344x824733289x539766830x2036429415x841887791x171649333x538976288x538976288x706769696x1932009533x829631025x537541417x538976288x538976266x538976288x544415776x1768759357x774973550x1931488304x808333611x1768649517x1818838638x695362932x538970683x538976288x1914708000x1819636581x540876916x1701980787x1953265011x1650946606x774973483x695414064x1768843562x1819239263x1915646575x171663975x538976288x537558304x538976288x1180658791x1130848626x1919904879x1025515552x1667593760x1701980212x1953265011x1650946606x774971436x171649328x32010x";
    private final int[] curve_static = new int[]{0, 1, 3, 4, 6, 7, 9, 10, 12, 13, 15, 16, 18, 19, 21, 22, 24, 25, 27, 28, 30, 31, 33, 34, 36, 37, 39, 40, 42, 43, 45, 46, 47, 49, 50, 52, 53, 55, 56, 58, 59, 61, 62, 63, 65, 66, 68, 69, 71, 72, 73, 75, 76, 78, 79, 80, 82, 83, 85, 86, 87, 89, 90, 92, 93, 94, 96, 97, 98, 100, 101, 102, 104, 105, 106, 108, 109, 110, 112, 113, 114, 116, C31128d.MIC_ALPHA_ADJUST_REAL, 118, C31128d.MIC_AVROUND_BLUR, 121, 122, 123, 125, 126, C31128d.MIC_SketchMark, 128, 130, 131, 132, C19394e.CTRL_INDEX, C19392d.CTRL_INDEX, C19395n.CTRL_INDEX, 137, 138, C33333a.CTRL_INDEX, 140, ErrorCode.NEEDDOWNLOAD_3, ErrorCode.NEEDDOWNLOAD_4, 144, 145, 146, ErrorCode.NEEDDOWNLOAD_8, 149, 150, 151, 152, XWalkEnvironment.SDK_SUPPORT_INVOKE_NOTIFY_MIN_APKVERSION, JsApiMakeVoIPCall.CTRL_INDEX, 155, 156, 157, JsApiGetBackgroundAudioState.CTRL_INDEX, 160, 161, ErrorCode.STARTDOWNLOAD_3, ErrorCode.STARTDOWNLOAD_4, ErrorCode.STARTDOWNLOAD_5, ErrorCode.STARTDOWNLOAD_6, 166, ErrorCode.STARTDOWNLOAD_8, 168, 169, ErrorCode.NEEDDOWNLOAD_TRUE, ErrorCode.NEEDDOWNLOAD_FALSE_1, ErrorCode.NEEDDOWNLOAD_FALSE_2, ErrorCode.NEEDDOWNLOAD_FALSE_3, ErrorCode.NEEDDOWNLOAD_FALSE_4, ErrorCode.NEEDDOWNLOAD_FALSE_5, ErrorCode.NEEDDOWNLOAD_FALSE_6, ErrorCode.NONEEDDOWNLOAD_OTHER_PROCESS_DOWNLOADING, 178, 179, 180, 181, 181, FaceMoveUtil.TRIANGLE_COUNT, 183, FaceOffUtil.NO_HOLE_TRIANGLE_COUNT_FACE_AVERAGE, 185, 186, 187, 188, 188, 189, FacebookRequestErrorClassification.EC_INVALID_TOKEN, 191, C33250az.CTRL_INDEX, JsApiChooseMedia.CTRL_INDEX, JsApiChooseMedia.CTRL_INDEX, JsApiUploadEncryptedFileToCDN.CTRL_INDEX, JsApiChooseWeChatContact.CTRL_INDEX, 196, 197, 197, C27011o.CTRL_INDEX, 199, 200, 201, 201, 202, 203, 204, 204, 205, 206, 207, 207, 208, 209, 209, 210, 211, 211, 212, 213, 213, 214, 215, 215, 216, 217, 217, 218, 219, 219, 220, 221, 221, 222, 222, 223, 224, 224, 225, 226, 226, 227, 227, 228, 228, 229, 230, 230, 231, 231, 232, 232, C31128d.MIC_PTU_MEISHI, C31128d.MIC_PTU_FENGJING, C31128d.MIC_PTU_FENGJING, C31128d.MIC_PTU_AUTOLEVEL, C31128d.MIC_PTU_AUTOLEVEL, 236, 236, C31128d.MIC_PTU_LENGMEIREN, C31128d.MIC_PTU_LENGMEIREN, C31128d.MIC_PTU_SHIGUANG, C31128d.MIC_PTU_SHIGUANG, C31128d.MIC_PTU_SHISHANG2, 240, 240, C31128d.MIC_PTU_QINGCONG, C31128d.MIC_PTU_QINGCONG, 242, 242, 243, 243, 244, 244, C31128d.MIC_PTU_ZIPAI_LIGHTWHITE, C31128d.MIC_PTU_ZIPAI_LIGHTWHITE, C31128d.MIC_PTU_ZIPAI_FAIRYTALE, C31128d.MIC_PTU_ZIPAI_FAIRYTALE, 247, 247, C31128d.MIC_PTU_ZIPAI_THURSDAY, C31128d.MIC_PTU_ZIPAI_THURSDAY, 249, 249, 250, 250, 251, 251, 252, 252, C31128d.MIC_PTU_ZIPAI_OKINAWA, C31128d.MIC_PTU_ZIPAI_OKINAWA, C31128d.MIC_PTU_ZIPAI_LIGHTRED, C31128d.MIC_PTU_ZIPAI_LIGHTRED, 255};
    private final int[] meitu_whiten = new int[]{0, 1, 3, 4, 6, 8, 9, 11, 13, 14, 16, 18, 19, 21, 23, 24, 26, 28, 29, 31, 33, 34, 36, 38, 39, 41, 42, 44, 46, 47, 49, 51, 52, 54, 55, 57, 59, 60, 62, 64, 65, 67, 68, 70, 71, 73, 75, 76, 78, 79, 81, 82, 84, 86, 87, 89, 90, 92, 93, 95, 96, 98, 99, 101, 102, 104, 105, 107, 108, 110, 111, 113, 114, 116, C31128d.MIC_ALPHA_ADJUST_REAL, C31128d.MIC_AVROUND_BLUR, 120, 121, 123, 124, 126, C31128d.MIC_SketchMark, 128, 130, 131, C19394e.CTRL_INDEX, C19392d.CTRL_INDEX, C44697b.CTRL_INDEX, 137, 138, C33333a.CTRL_INDEX, 141, ErrorCode.NEEDDOWNLOAD_3, ErrorCode.NEEDDOWNLOAD_4, 145, 146, ErrorCode.NEEDDOWNLOAD_8, 149, 150, 151, 152, JsApiMakeVoIPCall.CTRL_INDEX, 155, 156, 157, JsApiGetBackgroundAudioState.CTRL_INDEX, 160, 161, ErrorCode.STARTDOWNLOAD_3, ErrorCode.STARTDOWNLOAD_5, ErrorCode.STARTDOWNLOAD_6, 166, ErrorCode.STARTDOWNLOAD_8, 168, 169, ErrorCode.NEEDDOWNLOAD_FALSE_1, ErrorCode.NEEDDOWNLOAD_FALSE_2, ErrorCode.NEEDDOWNLOAD_FALSE_3, ErrorCode.NEEDDOWNLOAD_FALSE_4, ErrorCode.NEEDDOWNLOAD_FALSE_5, ErrorCode.NEEDDOWNLOAD_FALSE_6, ErrorCode.NONEEDDOWNLOAD_OTHER_PROCESS_DOWNLOADING, 178, 179, 180, 181, FaceMoveUtil.TRIANGLE_COUNT, 183, FaceOffUtil.NO_HOLE_TRIANGLE_COUNT_FACE_AVERAGE, 186, 187, 188, 188, 189, FacebookRequestErrorClassification.EC_INVALID_TOKEN, 191, C33250az.CTRL_INDEX, JsApiChooseMedia.CTRL_INDEX, JsApiUploadEncryptedFileToCDN.CTRL_INDEX, JsApiChooseWeChatContact.CTRL_INDEX, 196, 197, C27011o.CTRL_INDEX, 199, 200, 200, 201, 202, 203, 204, 205, 205, 206, 207, 208, 208, 209, 210, 211, 211, 212, 213, 214, 214, 215, 216, 216, 217, 218, 218, 219, 219, 220, 221, 221, 222, 223, 223, 224, 224, 225, 225, 226, 226, 227, 228, 228, 229, 229, 230, 230, 231, 231, 232, 232, C31128d.MIC_PTU_MEISHI, C31128d.MIC_PTU_MEISHI, C31128d.MIC_PTU_FENGJING, C31128d.MIC_PTU_FENGJING, C31128d.MIC_PTU_FENGJING, C31128d.MIC_PTU_AUTOLEVEL, C31128d.MIC_PTU_AUTOLEVEL, 236, 236, C31128d.MIC_PTU_LENGMEIREN, C31128d.MIC_PTU_LENGMEIREN, C31128d.MIC_PTU_LENGMEIREN, C31128d.MIC_PTU_SHIGUANG, C31128d.MIC_PTU_SHIGUANG, C31128d.MIC_PTU_SHISHANG2, C31128d.MIC_PTU_SHISHANG2, 240, 240, 240, C31128d.MIC_PTU_QINGCONG, C31128d.MIC_PTU_QINGCONG, C31128d.MIC_PTU_QINGCONG, 242, 242, 243, 243, 243, 244, 244, 244, C31128d.MIC_PTU_ZIPAI_LIGHTWHITE, C31128d.MIC_PTU_ZIPAI_LIGHTWHITE, C31128d.MIC_PTU_ZIPAI_LIGHTWHITE, C31128d.MIC_PTU_ZIPAI_FAIRYTALE, C31128d.MIC_PTU_ZIPAI_FAIRYTALE, C31128d.MIC_PTU_ZIPAI_FAIRYTALE, 247, 247, 247, C31128d.MIC_PTU_ZIPAI_THURSDAY, C31128d.MIC_PTU_ZIPAI_THURSDAY, C31128d.MIC_PTU_ZIPAI_THURSDAY, 249, 249, 249, 250, 250, 250, 251, 251, 251, 252, 252, 252, C31128d.MIC_PTU_ZIPAI_OKINAWA, C31128d.MIC_PTU_ZIPAI_OKINAWA, C31128d.MIC_PTU_ZIPAI_OKINAWA, C31128d.MIC_PTU_ZIPAI_LIGHTRED, C31128d.MIC_PTU_ZIPAI_LIGHTRED, C31128d.MIC_PTU_ZIPAI_LIGHTRED, 255};
    private float skinFilter = 1.0f;
    private float smoothOpacity = 0.79f;
    private BaseFilter smootherFilter = new BaseFilter(GLSLRender.bMi);
    private float whiten = 0.5f;

    public FaceBeautysRealAutoFilter() {
        super(GLSLRender.bJB);
        AppMethodBeat.m2504i(82318);
        AppMethodBeat.m2505o(82318);
    }

    public void setParameterDic(Map<String, Object> map) {
        AppMethodBeat.m2504i(82319);
        if (map.containsKey("smoothMag")) {
            this.smoothOpacity = ((Float) map.get("smoothMag")).floatValue();
            this.smootherFilter.addParam(new C0933f("smoothOpacity", this.smoothOpacity));
        }
        AppMethodBeat.m2505o(82319);
    }

    public void ApplyGLSLFilter(boolean z, float f, float f2) {
        AppMethodBeat.m2504i(82320);
        this.smootherFilter.addParam(new C0933f("smoothOpacity", this.smoothOpacity));
        this.smootherFilter.addParam(new C0935i("width", (int) f));
        this.smootherFilter.addParam(new C0935i("height", (int) f2));
        setNextFilter(this.smootherFilter, null);
        super.ApplyGLSLFilter(z, f, f2);
        AppMethodBeat.m2505o(82320);
    }

    public void beforeRender(int i, int i2, int i3) {
        AppMethodBeat.m2504i(82321);
        this.smootherFilter.addParam(new C0935i("width", i2));
        this.smootherFilter.addParam(new C0935i("height", i3));
        super.beforeRender(i, i2, i3);
        AppMethodBeat.m2505o(82321);
    }
}
